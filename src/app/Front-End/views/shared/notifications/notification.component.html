<div class="dropdown">
    <a class="nav-link active p-4 text-center fw-light position-relative" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="cursor: pointer;">
      <i class="bi bi-bell" style="font-size: 1.2rem;"></i>
      <span *ngIf="notificationCount > 0" class="badge rounded-circle bg-danger text-white" style="position: absolute; top: 18px; right: 15px; font-size: 0.8rem; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center;">{{ notificationCount }}</span>
    </a>


  
    <div class="dropdown-menu" style="width: 300px; margin-top: -30px;">

      <div class="p-3 border-bottom">
        <div class="d-flex justify-content-between align-items-center">
          <h5 class="m-0 font-size-15">Notifications</h5>
          <a class="small text-muted" href="javascript:void(0)" (click)="markAsRead()">Mark all as read</a>
        </div>
      </div>
  
      <ul class="list-unstyled  m-0">
        <li *ngFor="let item of notifications" class="dropdown-item">
          <div class="message-container">
            <span *ngIf="hasExpandableNotifications()" [ngClass]="{ 'expanded': item.expanded }" class="small text-muted"  href="javascript:void(0)" (click)="toggleExpand(item); $event.stopPropagation()">
              {{ item.message }}
            </span>
          </div>
        </li>
      </ul>
  
      <div class="p-2 border-top text-center">
        <!-- Toggle for all notifications expansion -->
        <a *ngIf="hasExpandableNotifications()" class="small text-muted" href="javascript:void(0)" (click)="expandAllNotifications(); $event.stopPropagation()">
          <i class="bi bi-eye me-1" style="font-size: 1.2rem;"></i>
          <span>{{ allExpanded ? 'View Less..' : 'View More..' }}</span>
        </a>
      </div>
    </div>
  </div>
  